{"is_source_file": true, "format": "JavaScript", "description": "This file provides client-side API functions for interacting with a backend API and a mock database for managing files (such as transport stream videos). It includes functions for listing, retrieving, creating, updating, deleting files, and generating preview URLs. Additionally, it contains in-memory mock data and utility functions to simulate asynchronous server interactions.", "external_files": ["node-fetch", "FormData"], "Note: These are implied dependencies but not directly imported here. The code uses `fetch` which is available in browsers or via polyfill in Node.js, and FormData is a global or imported in certain environments.": [], "external_methods": ["fetch"], "published": ["listFiles", "getFile", "createUpload", "updateFile", "deleteFile", "getPreviewUrl"], "classes": [], "methods": [{"name": "listFiles({ q = '', status = '' } = {})", "description": "Fetches a list of files, optionally filtered by search query and status, from mock data or backend.", "scope": "", "scopeKind": ""}, {"name": "getFile(id)", "description": "Retrieves a specific file by its ID from mock data or backend.", "scope": "", "scopeKind": ""}, {"name": "createUpload(payload)", "description": "Uploads a new file along with metadata and stream information, either mocked or posted to backend.", "scope": "", "scopeKind": ""}, {"name": "updateFile(id, data)", "description": "Updates metadata of an existing file in mock data or with a PUT request.", "scope": "", "scopeKind": ""}, {"name": "deleteFile(id)", "description": "Deletes a file by its ID from mock data or via API call.", "scope": "", "scopeKind": ""}, {"name": "getPreviewUrl(id)", "description": "Provides a URL to preview a file, mocked or from backend.", "scope": "", "scopeKind": ""}, {"name": "http(path, options = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "setTimeout", "delay", "mockDB.files.find", "mockDB.files.unshift", "mockDB.files.filter", "mockDB.files.splice"], "search-terms": ["client API", "file management", "mock database", "file upload", "React environment"], "state": 2, "file_id": 14, "knowledge_revision": 55, "git_revision": "c4ad283566077f91cc0e0264bf7f879007bf5feb", "revision_history": [{"32": ""}, {"55": "c4ad283566077f91cc0e0264bf7f879007bf5feb"}], "ctags": [{"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const BASE = process.env.REACT_APP_API_BASE || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "FEATURE_FLAGS", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const FEATURE_FLAGS = (process.env.REACT_APP_FEATURE_FLAGS || '').split(',').map(s => s.trim());$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "USE_MOCK", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const USE_MOCK = !BASE || FEATURE_FLAGS.includes('mock-api');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createUpload", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function createUpload(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const delay = (ms) => new Promise(r => setTimeout(r, ms));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteFile", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function deleteFile(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "files", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^  files: [$/", "language": "JavaScript", "kind": "property", "scope": "mockDB", "scopeKind": "class"}, {"_type": "tag", "name": "getFile", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function getFile(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getPreviewUrl", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export function getPreviewUrl(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^async function http(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "listFiles", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function listFiles({ q = '', status = '' } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ q = '', status = '' } = {})"}, {"_type": "tag", "name": "mockDB", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const mockDB = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "updateFile", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function updateFile(id, data) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, data)"}], "hash": "e3d09c674e837a3e8ef40b2d1b86f2f2", "format-version": 4, "code-base-name": "react_dashboard_frontend", "filename": "react_dashboard_frontend/src/api/client.js", "fields": [{"name": "files: [", "scope": "mockDB", "scopeKind": "class", "description": "unavailable"}]}