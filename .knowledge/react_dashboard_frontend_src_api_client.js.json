{"is_source_file": true, "format": "JavaScript", "description": "This file defines API client functions for a React frontend to interact with a backend service managing media files. It includes mock data handling for testing, network request functions, and exported functions for listing, retrieving, creating, updating, and deleting files, as well as generating preview URLs.", "external_files": ["fetch", "process.env", "FormData", "setTimeout", "Promise"], "external_methods": ["fetch", "setTimeout", "Promise"], "published": ["listFiles", "getFile", "createUpload", "updateFile", "deleteFile", "getPreviewUrl"], "classes": [], "methods": [{"name": "listFiles({ q = '', status = '' } = {})", "description": "Fetches a list of files, supporting filtering by search query and status. Uses mock data if USE_MOCK is true.", "scope": "", "scopeKind": ""}, {"name": "getFile(id)", "description": "Retrieves a specific file by its ID, using mock data if applicable.", "scope": "", "scopeKind": ""}, {"name": "createUpload(payload)", "description": "Creates a new file upload, supporting multipart form data. Adds mock data if USE_MOCK is true.", "scope": "", "scopeKind": ""}, {"name": "updateFile(id, data)", "description": "Updates metadata of a file identified by ID. Supports mock operation.", "scope": "", "scopeKind": ""}, {"name": "deleteFile(id)", "description": "Deletes a file by ID. Uses mock data if applicable.", "scope": "", "scopeKind": ""}, {"name": "getPreviewUrl(id)", "description": "Returns a URL to preview a video file, either generated in mock mode or via backend.", "scope": "", "scopeKind": ""}, {"name": "http(path, options = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["delay", "fetch"], "search-terms": ["client.js", "API", "media files", "mock data", "React", "file operations", "preview URL"], "state": 2, "file_id": 14, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const BASE = process.env.REACT_APP_API_BASE || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "FEATURE_FLAGS", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const FEATURE_FLAGS = (process.env.REACT_APP_FEATURE_FLAGS || '').split(',').map(s => s.trim());$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "USE_MOCK", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const USE_MOCK = !BASE || FEATURE_FLAGS.includes('mock-api');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createUpload", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function createUpload(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const delay = (ms) => new Promise(r => setTimeout(r, ms));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteFile", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function deleteFile(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "files", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^  files: [$/", "language": "JavaScript", "kind": "property", "scope": "mockDB", "scopeKind": "class"}, {"_type": "tag", "name": "getFile", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function getFile(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getPreviewUrl", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export function getPreviewUrl(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^async function http(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "listFiles", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function listFiles({ q = '', status = '' } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ q = '', status = '' } = {})"}, {"_type": "tag", "name": "mockDB", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^const mockDB = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "updateFile", "path": "/home/kavia/workspace/code-generation/osn-content-management-dashboard-2602-2759/react_dashboard_frontend/src/api/client.js", "pattern": "/^export async function updateFile(id, data) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, data)"}], "hash": "fc495bc6200bd57bb8496e3b9215c64d", "format-version": 4, "code-base-name": "react_dashboard_frontend", "filename": "react_dashboard_frontend/src/api/client.js", "fields": [{"name": "files: [", "scope": "mockDB", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}